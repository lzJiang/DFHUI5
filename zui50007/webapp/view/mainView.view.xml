<mvc:View
    controllerName="zui50007.controller.mainView"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:columnmenu="sap.m.table.columnmenu"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    xmlns:table="sap.ui.table"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:sap.ui.fl="sap.ui.fl"
    xmlns:sap.ui.dt="sap.ui.dt"
    xmlns:vm="sap.ui.fl.variants"
    xmlns:r="sap.ui.table.rowmodes"
>
    <Page
        id="page"
        showHeader="false"
    >
        <content>
            <f:Form
                id="_IDGenForm1"
                editable="true"
            >
                <f:layout>
                    <f:ResponsiveGridLayout
                        id="_IDGenResponsiveGridLayout"
                        labelSpanL="1"
                        labelSpanM="1"
                        emptySpanL="0"
                        emptySpanM="0"
                        columnsL="1"
                        columnsM="1"
                    />
                </f:layout>
                <f:formContainers>
                    <f:FormContainer id="_IDGenFormContainer">
                        <f:formElements>
                            <f:FormElement id="_IDGenFormElement">
                                <f:fields>
                                    <l:HorizontalLayout
                                        id="_IDGenHorizontalLayout"
                                    >
                                        <Label
                                            id="_IDGenLabel"
                                            labelFor='ids1'
                                            text="工厂："
                                            class="myMasterHead"
                                        />
                                        <Input
                                            id='ids1'
                                            width="8rem"
                                            value="{searchModel>/productionplant}"
                                            editable="false"
                                        />
                                    </l:HorizontalLayout>
                                </f:fields>
                            </f:FormElement>
                        </f:formElements>
                    </f:FormContainer>
                </f:formContainers>
            </f:Form>
        </content>
        <content>
            <table:Table
                id="_IDGenTable"
                rows="{dataModel>/data}"
                selectionMode="MultiToggle"
                paste="onPaste"
                ariaLabelledBy="title"
                class="myFontSize"
                sort="onSort"
                columnResize="onColumnResize"
                columnMove="onColumnMove"
                sap.ui.fl:flexibility="sap/m/flexibility/EngineFlex"
            >
                <table:rowMode>
                    <r:Interactive
                        id="_IDGenFixed"
                        rowCount="12"
                    />
                </table:rowMode>
                <table:extension>
                    <OverflowToolbar
                        id="_IDGenOverflowToolbar"
                        style="Clear"
                    >
                        <Title
                            id="title"
                            text="{appModel>/currentType}"
                        />
                        <ToolbarSeparator id="_IDGenToolbarSeparator" />
                        <vm:VariantManagement
                            id="p13nVm"
                            for="_IDGenTable"
                        />
                        <ToolbarSpacer id="_IDGenToolbarSpacer1" />
                        <Button
                            id="_IDGenButton1"
                            icon="sap-icon://add"
                            text="新增行"
                            press="onAddLine"
                        />
                        <Button
                            id="_IDGenButton11"
                            icon="sap-icon://less"
                            text="删除行"
                            press="onDelLine"
                        />
                        <Button
                            id="_IDGenButton2"
                            icon="sap-icon://save"
                            text="生成退料单"
                            press="onSave"
                        />
                        <Button
                            id="_IDGenButton5"
                            icon="sap-icon://excel-attachment"
                            text="导出"
                            press="onExport"
                        />
                        <Button
                            id="_IDGenButton4"
                            icon="sap-icon://action-settings"
                            text="设置"
                            press="openPersoDialog"
                        />
                    </OverflowToolbar>
                </table:extension>
                <table:dependents>
                    <columnmenu:Menu id="menu">
                        <columnmenu:items>
                            <columnmenu:ActionItem
                                id="_IDGenActionItem1"
                                icon="sap-icon://sort"
                                label="Sort"
                                press="onColumnHeaderItemPress"
                            />
                            <columnmenu:ActionItem
                                id="_IDGenActionItem2"
                                icon="sap-icon://table-column"
                                label="Columns"
                                press="onColumnHeaderItemPress"
                            />
                        </columnmenu:items>
                    </columnmenu:Menu>
                </table:dependents>
                <table:noData>
                    <IllustratedMessage
                        id="_IDGenIllustratedMessage"
                        enableVerticalResponsiveness="true"
                    />
                </table:noData>
                <table:rowSettingsTemplate>
                    <table:RowSettings
                        id="_IDGenRowSettings"
                        highlight="{dataModel>flagIcon}"
                        highlightText="{dataModel>yy1_msg}"
                    />
                </table:rowSettingsTemplate>
                <table:columns>
                    <table:Column
                        id="_IGenColumn"
                        width="4rem"
                        app:p13nKey="yy1_msg_col"
                        sortProperty="yy1_msg"
                        filterProperty="yy1_msg"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IGenLabel7"
                            text="消息"
                        />
                        <table:template>
                            <Text
                                id="_IGenText"
                                text="{dataModel>yy1_msg}"
                                wrapping="false"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn312"
                        width="6rem"
                        app:p13nKey="zllno_col"
                        sortProperty="zllno"
                        filterProperty="zllno"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel321"
                            text="退料单号"
                        />
                        <table:template>
                            <Text
                                id="_IDGenText312"
                                text="{dataModel>zllno}"
                                wrapping="false"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn322"
                        width="6rem"
                        app:p13nKey="zllitemno_col"
                        sortProperty="zllitemno"
                        filterProperty="zllitemno"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel322"
                            text="行号"
                        />
                        <table:template>
                            <Text
                                id="_IDGenText322"
                                text="{dataModel>zllitemno}"
                                wrapping="false"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn"
                        width="4rem"
                        app:p13nKey="productionplant_col"
                        sortProperty="productionplant"
                        filterProperty="productionplant"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel7"
                            text="工厂"
                        />
                        <table:template>
                            <Text
                                id="_IDGenText"
                                text="{dataModel>productionplant}"
                                wrapping="false"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn51"
                        width="8rem"
                        app:p13nKey="zj_col"
                        sortProperty="zj"
                        filterProperty="zj"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel51"
                            text="组件物料"
                        />
                        <table:template>
                            <Input
                                id="_IDGenText51"
                                value="{dataModel>zj}"
                                change="onzjChange"
                                showValueHelp="true"
                                valueHelpRequest=".onValueHelpRequest"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn52"
                        width="10rem"
                        app:p13nKey="zjname_col"
                        sortProperty="zjname"
                        filterProperty="zjname"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel52"
                            text="组件描述"
                        />
                        <table:template>
                            <Text
                                id="_IDGenText52"
                                text="{dataModel>zjname}"
                                wrapping="false"
                            />
                        </table:template>
                    </table:Column>

                    <table:Column
                        id="_IDGenColumn16"
                        width="10rem"
                        app:p13nKey="materialmfadate1_col"
                        sortProperty="materialmfadate1"
                        filterProperty="materialmfadate1"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel23"
                            text="组件生产日期"
                        />
                        <table:template>
                            <DatePicker
                                id='_IDGenText16'
                                value="{    path: 'dataModel>materialmfadate1',
											type: 'sap.ui.model.type.Date',
											formatOptions: {
                                                style: 'short',
												source: {pattern: 'yyyy-MM-dd'}
											}}"
                            />
                        </table:template>
                    </table:Column>

                    <!-- <table:Column
                        id="_IDGenColumn2"
                        width="8rem"
                        app:p13nKey="storage_col"
                        sortProperty="storage"
                        filterProperty="storage"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel10"
                            text="是否合格"
                        />
                        <table:template>
                            <Select
                                id="_IDGenSelect"
                                forceSelection="false"
                                selectedKey="{dataModel>storage}"
                            >
                                <core:Item
                                    id="_IDGenItem1"
                                    key="合格"
                                    text="合格"
                                />
                                <core:Item
                                    id="_IDGenItem7"
                                    key="不合格"
                                    text="不合格"
                                />
                            </Select>
                        </table:template>
                    </table:Column> -->

                    <table:Column
                        id="_IDGenColumn8"
                        width="8rem"
                        app:p13nKey="versionnumber_col"
                        sortProperty="versionnumber"
                        filterProperty="versionnumber"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel8"
                            text="组件包材版本"
                        />
                        <table:template>
                            <Input
                                id="_IDGenInput2"
                                value="{dataModel>versionnumber}"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn54"
                        width="4rem"
                        app:p13nKey="zjunit_col"
                        sortProperty="zjunit"
                        filterProperty="zjunit"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel54"
                            text="单位"
                        />
                        <table:template>
                            <Text
                                id="_IDGenText253"
                                text="{dataModel>zjunit}"
                                wrapping="false"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn55"
                        width="8rem"
                        app:p13nKey="requestedqty_col"
                        sortProperty="requestedqty"
                        filterProperty="requestedqty"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel55"
                            text="申请数量"
                        />
                        <table:template>
                            <Input
                                id="_IDGenText55"
                                type="Number"
                                value="{dataModel>requestedqty}"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn555"
                        width="10rem"
                        app:p13nKey="batch_col"
                        sortProperty="batch"
                        filterProperty="batch"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel555"
                            text="WMS批次"
                        />
                        <table:template>
                            <Input
                                id="_IDGenText555"
                                value="{dataModel>batch}"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn1"
                        width="8rem"
                        app:p13nKey="zcjtext_col"
                        sortProperty="zcjtext"
                        filterProperty="zcjtext"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel2"
                            text="车间"
                        />
                        <table:template>
                            <Text
                                id="_IDGenInput"
                                text="{dataModel>zcjtext}"
                                wrapping="false"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn566"
                        width="10rem"
                        app:p13nKey="storagelocationto_col"
                        sortProperty="storagelocationto"
                        filterProperty="storagelocationto"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel566"
                            text="发出地点"
                        />
                        <table:template>
                            <Select
                                id="_IDGenSelect11"
                                forceSelection="false"
                                selectedKey="{dataModel>storagelocationto}"
                                change="onstoragelocationChange"
                            >
                                <core:Item
                                    id="_IDGenItem2"
                                    key="1005"
                                    text="固体制剂车间线边仓"
                                />
                                <core:Item
                                    id="_IDGenItem3"
                                    key="1006"
                                    text="包装车间线边仓"
                                />
                                <core:Item
                                    id="_IDGenItem4"
                                    key="1007"
                                    text="红曲车间线边仓"
                                />
                                <core:Item
                                    id="_IDGenItem5"
                                    key="1008"
                                    text="口服液车间线边仓"
                                />
                                <core:Item
                                    id="_IDGenItem6"
                                    key="1009"
                                    text="软胶囊车间线边仓"
                                />
                            </Select>
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn56"
                        width="10rem"
                        app:p13nKey="storagelocationname_col"
                        sortProperty="storagelocationname"
                        filterProperty="storagelocationname"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel56"
                            text="接收地点"
                        />
                        <table:template>
                            <Select
                                id="_IDGenSelect1"
                                forceSelection="false"
                                selectedKey="{dataModel>storagelocation}"
                            >
                                <core:Item
                                    id="_IDGenItem22"
                                    key="平库"
                                    text="平库"
                                />
                                <core:Item
                                    id="_IDGenItem42"
                                    key="立库"
                                    text="立库"
                                />
                                <core:Item
                                    id="_IDGenItem32"
                                    key="原料仓"
                                    text="原料仓"
                                />
                                <core:Item
                                    id="_IDGenItem52"
                                    key="怀来仓"
                                    text="怀来仓"
                                />
                            </Select>
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn561"
                        width="8rem"
                        app:p13nKey="sykc_col"
                        sortProperty="sykc"
                        filterProperty="sykc"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel561"
                            text="线边仓剩余库存"
                        />
                        <table:template>
                            <Text
                                id="_IDGenText561"
                                text="{dataModel>sykc}"
                                wrapping="false"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn563"
                        width="8rem"
                        app:p13nKey="zcreate_date_col"
                        sortProperty="zcreate_date"
                        filterProperty="zcreate_date"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel563"
                            text="创建日期"
                        />
                        <table:template>
                            <Text
                                id="_IDGenText563"
                                text="{dataModel>zcreate_date}"
                                wrapping="false"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn3"
                        width="8rem"
                        app:p13nKey="manufacturingorder_col"
                        sortProperty="manufacturingorder"
                        filterProperty="manufacturingorder"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel1"
                            text="生产任务单"
                        />
                        <table:template>
                            <Input
                                id="_IDGenInput1"
                                value="{dataModel>manufacturingorder}"
                                change="onmanufacturingorderChange"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn4"
                        width="8rem"
                        app:p13nKey="yy1_mfgbatch_ord_col"
                        sortProperty="yy1_mfgbatch_ord"
                        filterProperty="yy1_mfgbatch_ord"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel3"
                            text="生产批次"
                        />
                        <table:template>
                            <Text
                                id="_IDGenText1"
                                text="{dataModel>yy1_mfgbatch_ord}"
                                wrapping="false"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn5"
                        width="8rem"
                        app:p13nKey="cp_col"
                        sortProperty="cp"
                        filterProperty="cp"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel4"
                            text="产品编码"
                        />
                        <table:template>
                            <Text
                                id="_IDGenText2"
                                text="{dataModel>cp}"
                                wrapping="false"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn6"
                        width="8rem"
                        app:p13nKey="cpname_col"
                        sortProperty="cpname"
                        filterProperty="cpname"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel5"
                            text="产品名称"
                        />
                        <table:template>
                            <Text
                                id="_IDGenText3"
                                text="{dataModel>cpname}"
                                wrapping="false"
                            />
                        </table:template>
                    </table:Column>
                    <table:Column
                        id="_IDGenColumn7"
                        width="8rem"
                        app:p13nKey="yy1_mfgdate_col"
                        sortProperty="yy1_mfgdate"
                        filterProperty="yy1_mfgdate"
                        headerMenu="menu"
                        resizable="true"
                        autoResizable="true"
                    >
                        <Label
                            id="_IDGenLabel6"
                            text="制造日期"
                        />
                        <table:template>
                            <Text
                                id="_IDGenText4"
                                text="{dataModel>yy1_mfgdate}"
                                wrapping="false"
                            />
                        </table:template>
                    </table:Column>
                </table:columns>
            </table:Table>
        </content>
    </Page>
</mvc:View>
